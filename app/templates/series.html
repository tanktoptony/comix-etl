{% extends "base.html" %}

{% block content %}
<div class="page-heading">
    <div>
        <h1>Series Browser</h1>
        <div class="meta">
            Search for a series and jump into issues or a visual gallery.
        </div>
    </div>

    <div class="search-bar-wrapper">
        <form action="/series" method="get">
            <input
                class="search-input"
                type="text"
                name="q"
                placeholder="Search series titleâ€¦"
                value="{{ query | default('') }}"
            />
            <button class="search-button" type="submit">Search</button>
        </form>
    </div>
</div>

{% if series_list and series_list|length > 0 %}
<div class="card-grid">
    {% for series in series_list %}
    <div class="card">
        <div class="card-title">
            {{ series.title }}
        </div>

        <div class="card-sub">
            Series ID: {{ series.id }}
        </div>

        <div class="link-row">
            {% if series.id %}
            <a class="chip-link" href="/series/{{ series.id }}/issues">
                View issues
            </a>
            <a class="chip-link" href="/series/{{ series.id }}/gallery">
                View gallery
            </a>
            {% else %}
            <div class="card-sub">
                (no valid ID for links)
            </div>
            {% endif %}
        </div>
    </div>
    {% endfor %}
</div>
{% else %}
<div class="card-sub">
    No series found.
</div>
{% endif %}
{% endblock %}
